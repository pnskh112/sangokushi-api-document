
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>主に取り決めること · HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 3.6.17">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../rq_action_items.md" />
    
    
    <link rel="prev" href="../" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Requirement</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../">
            
                <a href="../">
            
                    
                    前提要求仕様
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="2.1.1" data-path="toStudy.html">
            
                <a href="toStudy.html">
            
                    
                    主に取り決めること
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../rq_action_items.md">
            
                <span>
            
                    
                    アクションアイテム
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Detail Design</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../30_design/dd/dd_sangokushiApi/">
            
                <a href="../../30_design/dd/dd_sangokushiApi/">
            
                    
                    三国志APIサーバ
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="../../30_design/dd/dd_sangokushiApi/dd_entity_layout.html">
            
                <a href="../../30_design/dd/dd_sangokushiApi/dd_entity_layout.html">
            
                    
                    三国志APIサーバ-データベースレイアウト
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../../30_design/dd/dd_sangokushiApi/">
            
                <a href="../../30_design/dd/dd_sangokushiApi/">
            
                    
                    三国志API設計
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="../../30_design/dd/dd_sangokushiApi/dd_restapi.html">
            
                <a href="../../30_design/dd/dd_sangokushiApi/dd_restapi.html">
            
                    
                    三国志API-RESTful API Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="../../30_design/dd/dd_sangokushiApi/dd_er_diagram.html">
            
                <a href="../../30_design/dd/dd_sangokushiApi/dd_er_diagram.html">
            
                    
                    E-R図
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >主に取り決めること</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="action-items">Action Items</h1>
<!-- TOC -->
<ul>
<li><a href="#v13-action-items">Action Items</a><ul>
<li><a href="#requirement-list">Requirement list</a></li>
<li><a href="#logic-design論理設計">logicDesign論理設計</a></li>
<li><a href="#Physical-Design論理設計">physicalDesign物理設計</a></li>
<li><a href="#logic-design論理設計">logicDesign論理設計</a></li>
<li><a href="#３層スキーマ">Three-tier schema３層スキーマ</a><ul>
<li><a href="#外部スキーマ">External schema外部スキーマ</a></li>
<li><a href="#概念スキーマ">Conceptual schema概念スキーマ</a></li>
<li><a href="#内部スキーマ">Internal schema内部スキーマ</a></li>
</ul>
</li>
<li><a href="#論理設計と物理設計">Logical design and physical design論理設計と物理設計</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<h2 id="requirement-list">Requirement list</h2>
<h3 id="arrangement">Arrangement</h3>
<p>主に取り決めることは下記の通り</p>
<ul>
<li>論理設計<ul>
<li>DB設計</li>
</ul>
</li>
<li>物理設計
※DB設計について、勉強しながら設計していく。
勉強したこともこちらにまとめていく</li>
</ul>
<h3 id="logicdesign論理設計">logicdesign論理設計</h3>
<ul>
<li>正規化</li>
<li>ER図</li>
</ul>
<h3 id="physicaldesign物理設計">PhysicalDesign物理設計</h3>
<ul>
<li>サーバ</li>
<li>ストレージ</li>
</ul>
<h3 id="db設計について">DB設計について</h3>
<ul>
<li>情報はデータと文脈を合成して生まれる<br>
システムとは、このデータと情報の区別という観点から見た場合、<br>
ユーザーがシステムにデータを登録し、さらにそれを引き出して情報を作り出す<br>
という一連のサイクルの中に位置付けることもできる<br></li>
</ul>
<pre><code class="lang-uml">@startuml
title システムのサイクル

skinparam ParticipantPadding 10
skinparam BoxPadding 10

actor &quot;ユーザー&quot; as user
actor &quot;ユーザー&quot; as user2
database &quot;DBMS&quot;

    user -&gt; DBMS: 登録
    DBMS -&gt; (情報): 抽出(観点や文脈)
    (情報) -&gt; user2

@enduml
</code></pre>
<ul>
<li>データ中心アプローチ</li>
<li>DOA（Data Oriented Approach:DOA）
システムを作る際にプログラムよりも前にデータの設計から始める方法論<br>
スローガン的に言えば、「最初にデータありき」<br>
反対は、プロセス中心アプローチPOA（Process Oriented Approach）<br></li>
</ul>
<p><br>
DOA：データ⇨プログラム<br>
POA：プログラム⇨データ<br>
<br></p>
<p>プロセス（業務処理）というのは短期間で大きく変わっていくことが頻繁にあり、<br>
プロセス単位でデータ設計を行うことになるため、<br>
複数のプロセスで同じデータをデータを別個荷物などの冗長性が生じることになり、不都合が多くなる<br>
<br></p>
<p>DOAは、POAの欠点を克服するために登場した。<br>
着眼のポイントは、データがあまり変化しない（永続的）という点</p>
<p>データの意味や形式が先に決まっていれば、<br>
複数のプログラムで強要することも容易で、業務要件の仕様変更にも柔軟に対応できる<br>
<br></p>
<ul>
<li>最初にデータがあり、プログラムはその次にできる</li>
</ul>
<h3 id="３層スキーマ">３層スキーマ</h3>
<p>スキーマ（schema）
「枠組み」や「構図」という意味。
データベース設計においては、データ構造やフォーマットという意味で使う。
データベース設計のステップは、このスキーマのレベルと密接に結びついている。
スキーマは主に３つのレベルに分けられる</p>
<ol>
<li>外部スキーマ（外部モデル）ビューの世界</li>
<li>概念スキーマ（論理データモデル）テーブルの世界</li>
<li>内部スキーマ（物理データモデル）ファイルの世界</li>
</ol>
<p>この三つのスキーマに基づいてシステムを記述したモデルを「３層スキーマモデルという」</p>
<h4 id="外部スキーマ">外部スキーマ</h4>
<p>システムの利用者であるユーザから見て、データベースがどのような機能と
インタフェースを持っているかを定義するスキーマ。<br>
「ユーザから見たデータベース」の姿。<br>
データベースのオブジェクトとしては、ビューが相当する。<br>
このスキーマは、データベースだけでなく、画面のユーザインタフェースや入力データなど、<br>
ユーザから見える「システムの姿」の一部である、と言える。</p>
<h4 id="概念スキーマ">概念スキーマ</h4>
<ul>
<li>データベースに保持するデータの要素及び、データ同士の関係を記述するスキーマ。</li>
<li>外部スキーマがユーザから見たデータベースだとすれば、概念スキーマは「開発者から見たデータベース」</li>
<li>データベース設計において重要な位置を占めることになる。</li>
<li>概念スキーマの設計を「論理設計」とも呼ぶ。データベース設計の中心となるスキーマ。</li>
<li>小規模のシステム開発だと、概念スキーマを外部/内部スキーマに吸収させてしまう「２層スキーマ」も存在する。</li>
<li>2層スキーマは変更に対する柔軟性が低い</li>
<li>外部スキーマと内部スキーマの間に位置することでスキーマ同士の独立性を高め互いに影響し合わないようにするための
緩衝材の役割を果たす（データ独立性）</li>
<li>概念スキーマはデータ独立性を保証するためにある</li>
</ul>
<h4 id="内部スキーマ">内部スキーマ</h4>
<p>概念スキーマで定義された論理データベースを、具体的にどうDBMS内部に格納するかを定義するスキーマ<br>
テーブルやインデックスの物理的定義を含む。リレーショナルデータベースもコンピュータ上で動く以上、あらゆるデータは最終的に「ファイル」の形で管理され、その「ファイル」で表現される世界である。<br>
内部スキーマの設計を、論理設計との対比で「物理設計」と呼ぶ。</p>
<h3 id="論理設計と物理設計">論理設計と物理設計</h3>
<ul>
<li>論理設計は物理設計に先立つ</li>
<li>DBMSはユーザーにファイルを極力意識させないようにしているが、設計者はファイルレベルで考えるのが物理設計のポイント</li>
</ul>
<h4 id="論理設計">論理設計</h4>
<ul>
<li>概念スキーマを定義する設計を、論理設計と呼ぶ</li>
<li>「論理」の意味は、「物理層の制約にとらわれない」という意味。</li>
<li>物理層の制約とは、データベースサーバーのCPUパワーや、ストレージのデータ格納場所や、DBMSで使えるデータ型やSQLの構文といった、より具体的で実装レベルの条件のこと。最初にデータベース設計を行う際は、こうした物理層の制約は脇に置いて進める。</li>
</ul>
<h5 id="論理設計のステップ">論理設計のステップ</h5>
<ul>
<li>entityは日本語で「実体」と訳す</li>
<li>現実世界に存在するデータの集合体を指す言葉</li>
<li>具体的には「顧客」や「社員」「店舗」「車」といった、物理的実態を伴ったもの</li>
<li>「税」や「会社」「注文履歴」のように物理的実体を伴わない、概念としてしか存在しないもの</li>
<li>RDBMSではこうした現実世界のエンティティを最終的に「テーブル」という物理的単位で格納する</li>
<li>このタスクの一部は「要件定義」と重なっている。</li>
<li>どのようなエンティティが必要になるか、という問いは、要するにどういうデータを扱いたいか、という問いの変形である</li>
</ul>
<pre><code class="lang-uml">@startuml
title 論理設計の４つのタスク

start
partition Initialization {
:1.エンティティの抽出;
:2.エンティティの定義;
:3.正規化;
:4.ER図の作成;
}
stop

@enduml
</code></pre>
<h5 id="エンティティの定義">エンティティの定義</h5>
<ul>
<li>エンティティを抽出した後は、各エンティティがどのようなデータを保持するかを決める。</li>
<li>データを「属性（attribute）」という形で保持する。これは「列」と同義</li>
</ul>
<h5 id="正規化">正規化</h5>
<ul>
<li>正規化（normalization）は、テーブル（entity）について、システムでの利用がスムーズに行えるように整理する作業。</li>
<li>正規化はCRUDが整合的に行えるように、エンティティのフォーマットを整理することが重要な目的。</li>
<li>正規化は、データベースの論理設計を理解する鍵と言っても過言ではない</li>
</ul>
<h5 id="er図の作成">ER図の作成</h5>
<ul>
<li>Entity-Relationship Diagramの略。</li>
</ul>
<pre><code class="lang-uml">@startuml
title ER図の例

entity 会社{
  * 会社コード
  --
  * 会社名
}
entity 社員{
  * 会社コード(FK)
  * 社員ID
  --
  * 社員名
  * 年齢
  * 部署コード(FK)
}
entity 部署{
  * 部署コード
  --
  * 部署名
}

会社 ||..|{ 社員
社員 }o..|| 部署

@enduml
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../" class="navigation navigation-prev " aria-label="Previous page: 前提要求仕様">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../rq_action_items.md" class="navigation navigation-next " aria-label="Next page: アクションアイテム">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"主に取り決めること","level":"2.1.1","depth":2,"next":{"title":"アクションアイテム","level":"2.2","depth":1,"path":"10_requirement/rq_action_items.md","ref":"10_requirement/rq_action_items.md","articles":[]},"previous":{"title":"前提要求仕様","level":"2.1","depth":1,"path":"10_requirement/index.md","ref":"10_requirement/index.md","articles":[{"title":"主に取り決めること","level":"2.1.1","depth":2,"path":"10_requirement/studying/toStudy.md","ref":"10_requirement/studying/toStudy.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"10_requirement/studying/toStudy.md","mtime":"2021-02-20T10:36:57.961Z","type":"markdown"},"gitbook":{"version":"3.6.17","time":"2021-02-20T10:56:48.593Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

